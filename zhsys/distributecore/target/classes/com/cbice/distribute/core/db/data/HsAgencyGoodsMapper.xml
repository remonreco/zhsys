<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cbice.distribute.core.db.data.HsAgencyGoodsMapper">
	<resultMap id="BaseResultMap"
		type="com.cbice.distribute.core.db.model.HsAgencyGoods">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		<id column="agency_id" property="agencyId" jdbcType="VARCHAR" />
		<id column="goods_id" property="goodsId" jdbcType="VARCHAR" />
		<result column="agency_name" property="agencyName" jdbcType="VARCHAR" />
		<result column="goods_name" property="goodsName" jdbcType="VARCHAR" />
		<result column="backup1" property="backup1" jdbcType="CHAR" />
		<result column="backup2" property="backup2" jdbcType="CHAR" />
		<result column="backup3" property="backup3" jdbcType="CHAR" />
		<result column="backup4" property="backup4" jdbcType="CHAR" />
		<result column="backup5" property="backup5" jdbcType="CHAR" />
		<result column="backup6" property="backup6" jdbcType="CHAR" />
		<result column="backup7" property="backup7" jdbcType="CHAR" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		agency_id, goods_id, agency_name, goods_name, backup1, backup2,
		backup3, backup4,
		backup5, backup6, backup7
	</sql>
	<select id="selectByExample" resultMap="BaseResultMap"
		parameterType="com.cbice.distribute.core.db.model.HsAgencyGoodsExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from hs_agency_goods
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		select
		<include refid="Base_Column_List" />
		from hs_agency_goods
		where agency_id = #{agencyId,jdbcType=VARCHAR}
		and
		goods_id = #{goodsId,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		delete from hs_agency_goods
		where agency_id =
		#{agencyId,jdbcType=VARCHAR}
		and goods_id = #{goodsId,jdbcType=VARCHAR}
	</delete>
	<delete id="deleteByExample"
		parameterType="com.cbice.distribute.core.db.model.HsAgencyGoodsExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		delete from hs_agency_goods
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert" parameterType="com.cbice.distribute.core.db.model.HsAgencyGoods">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		insert into hs_agency_goods (agency_id, goods_id, agency_name,
		goods_name, backup1, backup2,
		backup3, backup4, backup5, backup6,
		backup7)
		values (#{agencyId,jdbcType=VARCHAR},
		#{goodsId,jdbcType=VARCHAR},
		#{agencyName,jdbcType=VARCHAR},
		#{goodsName,jdbcType=VARCHAR}, #{backup1,jdbcType=CHAR},
		#{backup2,jdbcType=CHAR},
		#{backup3,jdbcType=CHAR},
		#{backup4,jdbcType=CHAR},
		#{backup5,jdbcType=CHAR},
		#{backup6,jdbcType=CHAR},
		#{backup7,jdbcType=CHAR})
	</insert>
	<insert id="insertSelective" parameterType="com.cbice.distribute.core.db.model.HsAgencyGoods">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		insert into hs_agency_goods
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="agencyId != null">
				agency_id,
			</if>
			<if test="goodsId != null">
				goods_id,
			</if>
			<if test="agencyName != null">
				agency_name,
			</if>
			<if test="goodsName != null">
				goods_name,
			</if>
			<if test="backup1 != null">
				backup1,
			</if>
			<if test="backup2 != null">
				backup2,
			</if>
			<if test="backup3 != null">
				backup3,
			</if>
			<if test="backup4 != null">
				backup4,
			</if>
			<if test="backup5 != null">
				backup5,
			</if>
			<if test="backup6 != null">
				backup6,
			</if>
			<if test="backup7 != null">
				backup7,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="agencyId != null">
				#{agencyId,jdbcType=VARCHAR},
			</if>
			<if test="goodsId != null">
				#{goodsId,jdbcType=VARCHAR},
			</if>
			<if test="agencyName != null">
				#{agencyName,jdbcType=VARCHAR},
			</if>
			<if test="goodsName != null">
				#{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="backup1 != null">
				#{backup1,jdbcType=CHAR},
			</if>
			<if test="backup2 != null">
				#{backup2,jdbcType=CHAR},
			</if>
			<if test="backup3 != null">
				#{backup3,jdbcType=CHAR},
			</if>
			<if test="backup4 != null">
				#{backup4,jdbcType=CHAR},
			</if>
			<if test="backup5 != null">
				#{backup5,jdbcType=CHAR},
			</if>
			<if test="backup6 != null">
				#{backup6,jdbcType=CHAR},
			</if>
			<if test="backup7 != null">
				#{backup7,jdbcType=CHAR},
			</if>
		</trim>
	</insert>
	<select id="countByExample"
		parameterType="com.cbice.distribute.core.db.model.HsAgencyGoodsExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		select count(*) from hs_agency_goods
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		update hs_agency_goods
		<set>
			<if test="record.agencyId != null">
				agency_id = #{record.agencyId,jdbcType=VARCHAR},
			</if>
			<if test="record.goodsId != null">
				goods_id = #{record.goodsId,jdbcType=VARCHAR},
			</if>
			<if test="record.agencyName != null">
				agency_name = #{record.agencyName,jdbcType=VARCHAR},
			</if>
			<if test="record.goodsName != null">
				goods_name = #{record.goodsName,jdbcType=VARCHAR},
			</if>
			<if test="record.backup1 != null">
				backup1 = #{record.backup1,jdbcType=CHAR},
			</if>
			<if test="record.backup2 != null">
				backup2 = #{record.backup2,jdbcType=CHAR},
			</if>
			<if test="record.backup3 != null">
				backup3 = #{record.backup3,jdbcType=CHAR},
			</if>
			<if test="record.backup4 != null">
				backup4 = #{record.backup4,jdbcType=CHAR},
			</if>
			<if test="record.backup5 != null">
				backup5 = #{record.backup5,jdbcType=CHAR},
			</if>
			<if test="record.backup6 != null">
				backup6 = #{record.backup6,jdbcType=CHAR},
			</if>
			<if test="record.backup7 != null">
				backup7 = #{record.backup7,jdbcType=CHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		update hs_agency_goods
		set agency_id =
		#{record.agencyId,jdbcType=VARCHAR},
		goods_id =
		#{record.goodsId,jdbcType=VARCHAR},
		agency_name =
		#{record.agencyName,jdbcType=VARCHAR},
		goods_name =
		#{record.goodsName,jdbcType=VARCHAR},
		backup1 =
		#{record.backup1,jdbcType=CHAR},
		backup2 =
		#{record.backup2,jdbcType=CHAR},
		backup3 =
		#{record.backup3,jdbcType=CHAR},
		backup4 =
		#{record.backup4,jdbcType=CHAR},
		backup5 =
		#{record.backup5,jdbcType=CHAR},
		backup6 =
		#{record.backup6,jdbcType=CHAR},
		backup7 =
		#{record.backup7,jdbcType=CHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="com.cbice.distribute.core.db.model.HsAgencyGoods">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		update hs_agency_goods
		<set>
			<if test="agencyName != null">
				agency_name = #{agencyName,jdbcType=VARCHAR},
			</if>
			<if test="goodsName != null">
				goods_name = #{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="backup1 != null">
				backup1 = #{backup1,jdbcType=CHAR},
			</if>
			<if test="backup2 != null">
				backup2 = #{backup2,jdbcType=CHAR},
			</if>
			<if test="backup3 != null">
				backup3 = #{backup3,jdbcType=CHAR},
			</if>
			<if test="backup4 != null">
				backup4 = #{backup4,jdbcType=CHAR},
			</if>
			<if test="backup5 != null">
				backup5 = #{backup5,jdbcType=CHAR},
			</if>
			<if test="backup6 != null">
				backup6 = #{backup6,jdbcType=CHAR},
			</if>
			<if test="backup7 != null">
				backup7 = #{backup7,jdbcType=CHAR},
			</if>
		</set>
		where agency_id = #{agencyId,jdbcType=VARCHAR}
		and goods_id =
		#{goodsId,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.cbice.distribute.core.db.model.HsAgencyGoods">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Aug 05 
			16:26:09 CST 2015. -->
		update hs_agency_goods
		set agency_name =
		#{agencyName,jdbcType=VARCHAR},
		goods_name =
		#{goodsName,jdbcType=VARCHAR},
		backup1 = #{backup1,jdbcType=CHAR},
		backup2 = #{backup2,jdbcType=CHAR},
		backup3 = #{backup3,jdbcType=CHAR},
		backup4 = #{backup4,jdbcType=CHAR},
		backup5 = #{backup5,jdbcType=CHAR},
		backup6 = #{backup6,jdbcType=CHAR},
		backup7 = #{backup7,jdbcType=CHAR}
		where agency_id = #{agencyId,jdbcType=VARCHAR}
		and goods_id =
		#{goodsId,jdbcType=VARCHAR}
	</update>

	<select id="selectGoodsListByAgencyId" parameterType="map"
		resultType="java.util.HashMap">
		select hag.goods_name as gname,tc.otc_code as ocode,tc.client_id as cid,tc.client_name as cname,
		tc.current_amount as camount,tc.nature_date as ndate from
		(select * from hs_agency_goods
		where agency_id=#{agencyId,jdbcType=VARCHAR}
		<if test="goodId != null and goodId !=''">
			and (goods_id = #{goodId} or #{goodId} is null)
		</if>
		) hag left join
		t_commission tc on tc.otc_code = hag.goods_id where 1=1
		<if test="initDateStart != null and initDateStart !=''">
			and tc.nature_date &gt;= #{initDateStart}
		</if>
		<if test="initDateEnd != null and initDateEnd !=''">
			and tc.nature_date &lt;= #{initDateEnd}
		</if>
		<if test="clientId != null and clientId !=''">
			and (tc.client_id = #{clientId} or #{clientId} is null)
		</if>
		
		ORDER BY ocode ASC,cid ASC,ndate ASC
		limit #{limit} offset #{offset}
	</select>
	
	<select id="selectAllGoodsListByAgencyId" parameterType="map"
		resultType="com.cbice.distribute.core.model.GoodsDetail">
		select hag.goods_name as gname,tc.otc_code as ocode,tc.client_id as cid,tc.client_name as cname,
		tc.current_amount as camount,tc.nature_date as ndate from
		(select * from hs_agency_goods
		where agency_id=#{agencyId,jdbcType=VARCHAR}
		<if test="goodId != null and goodId !=''">
			and (goods_id = #{goodId} or #{goodId} is null)
		</if>
		) hag left join
		t_commission tc on tc.otc_code = hag.goods_id where 1=1
		<if test="initDateStart != null and initDateStart !=''">
			and tc.nature_date &gt;= #{initDateStart}
		</if>
		<if test="initDateEnd != null and initDateEnd !=''">
			and tc.nature_date &lt;= #{initDateEnd}
		</if>
		<if test="clientId != null and clientId !=''">
			and (tc.client_id = #{clientId} or #{clientId} is null)
		</if>
		ORDER BY ocode ASC,cid ASC,ndate ASC
	</select>
	<select id="countGoodsByAgencyId" parameterType="map"
		resultType="int">
		select count(*) from (
		select hag.goods_name as gname,tc.otc_code as ocode,tc.client_id as cid,
		tc.client_name as cname,tc.current_amount as camount,tc.nature_date as ndate from
		(select * from hs_agency_goods
		where agency_id=#{agencyId,jdbcType=VARCHAR}
		<if test="goodId != null and goodId !=''">
			and (goods_id = #{goodId} or #{goodId} is null)
		</if>) hag left join
		t_commission tc on tc.otc_code = hag.goods_id where 1=1
		<if test="initDateStart != null and initDateStart !=''">
			and tc.nature_date &gt;= #{initDateStart}
		</if>
		<if test="initDateEnd != null and initDateEnd !=''">
			and tc.nature_date &lt;= #{initDateEnd}
		</if>
		<if test="clientId != null and clientId !=''">
			and (tc.client_id = #{clientId} or #{clientId} is null)
		</if>
		)temp;
	</select>
</mapper>